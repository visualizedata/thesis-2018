<!DOCTYPE html>
<html>
    <head>
      <link href="https://fonts.googleapis.com/css?family=Encode+Sans+Expanded:200,300,400,500,600,700,800,900|Josefin+Sans:600|Montserrat+Alternates:700|Quantico:400,700|Teko:600" rel="stylesheet">
    
  <title>BootstrapCarousel</title>
        <link rel='stylesheet' href='bootstrap.min.css'>
        <link rel='stylesheet' href='bootstrap.min.js'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
       
<!-- Example based on http://bl.ocks.org/mbostock/3887118 -->
<!-- Tooltip example from http://www.d3noob.org/2013/01/adding-tooltips-to-d3js-graph.html -->
<!-- Coding style based on http://gist.github.com/mbostock/5977197 -->
</head>

<style>
/*@import "compass/css3";*/

.header {
    background-color: #F1F1F1;
    text-align: left;
    color: snow;
    background: rgb(42, 42, 42);
    flex: 1 95%;
    
}
h2 {
  font-family: 'Quantico', sans-serif;
  text-align: left;
  padding-top: 1em;
  margin-left: 20%;
  font-weight: bold;
  font: 6em;
}
h3 {
  font-family: 'Quantico', sans-serif;
  text-align: left;
  padding-top: 1em;
  padding-bottom: 1.5em;
  font-weight: bold;
  font: 5em;
}
body {
  font-family: 'Quantico', sans-serif;
  font: 11px;
  background: rgb(42, 42, 42);
  padding: 1em; 
}

#title {
  opacity: .95;
  
}

.dot, .dot2, .ClusterClass0, .ClusterClass1, .ClusterClass2, .ClusterClass3, .ClusterClass4, .ClusterClass5, .ClusterClass6, .ClusterClass7, .ClusterClass8 {
  stroke: #2F4F4F;
}

#ClusterClass0, #ClusterClass1, #ClusterClass2, #ClusterClass3, #ClusterClass4, #ClusterClass5, #ClusterClass6, #ClusterClass7, #ClusterClass8 {
  stroke: #2F4F4F;
}

.tooltip {
  position: absolute;
  width: 200px;
  height: 28px;
  pointer-events: none;
}
div.dvCluster {
  width: 1;
}
.textHere {
    position: absolute;	
    right: 20%;
    text-align: center;			
    font-family: 'Quantico', sans-serif;
    color: white;
    font: 2em;
    z-index: 2;
    border: 0px;
}

#plot {
  color: snow;
}
.buttonStyle {
  background: rgb(42, 42, 42);
  color: white;
  border: none;
}



.wrapper {
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;  
  flex-flow: row wrap;
  flex-direction: row;
  font-weight: bold;
  text-align: center;
}

.box {
  width: 100%;
  margin-left: 20%;
}

.footer {
 background: rgb(42, 42, 42);
  flex: 1;
}

.main {
  text-align: left;
  flex: 2;
  background: rgb(42, 42, 42);
}

.aside-1 {
  background: rgb(42, 42, 42);
  flex: 0; 
  flex-direction: column;
  display: flex;  
  flex-flow: row wrap;
  margin-top: 10%;
  padding-left: 3em;
  /*padding-top: 500px;*/
  /*flex: .5;*/
}

.dvCluster {
  padding-left: 0%;
  margin-left: 0%;
}


.aside-2 {
  background: rgb(42, 42, 42);
  flex: .02;
  flex-direction: column;
  display: flex;  
  flex-flow: row wrap;
  
}



#plot {
        width: 100%;
        text-align: center;
    }

article {
  width:67%;
  margin-left: 5%;
}




@media all and (min-width: 300px) {
  .aside { flex: 0 auto; }
}

@media all and (min-width: 700px) {
  .main    { flex: 2 0px; }
  .aside-1 { order: 2; } 
  .header  { order: 1; }
  .main    { order: 3; }
  .footer  { order: 4; }
}

#cl5button {
  display: none;
}

#overlay {
    font-family: 'Quantico', sans-serif;
    color: snow;
    position: fixed; /* Sit on top of the page content */
    display: visible; /* Hidden by default */
    width: 100%; /* Full width (cover the whole page) */
    height: 100%; /* Full height (cover the whole page) */
    top: 1%; 
    left: 1%;
    right: 1%;
    bottom: 1%;
    background-color: rgba(42, 42, 42,.98); /* Black background with opacity */
    z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
    cursor: pointer; /* Add a pointer on hover */
  transition: .3s ease;
}

.dropbtn {
     background: rgb(42, 42, 42);
    color: white;
    border: none;
    cursor: pointer;
}

.dropbtn:hover, .dropbtn:focus {
    background-color: rgb(42, 42, 42);
}

/* The container <div> - needed to position the dropdown content */
.dropdown {
    position: relative;
    display: inline-block;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
    display: none;
    position: absolute;
    background-color: rgb(42, 42, 42);
    min-width: 80px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.boxDescription {
    position: absolute;	
    top: 16%;
    left: 20%;
    padding-left: .5em;
    text-align: left;			
    width: 85%;					
    height: 5%;					
    font: 1em , 'Quantico', sans-serif;		
    background: rgba(42, 42, 42,0);
    z-index: 3;
    border: 0px;
}

/* Links inside the dropdown */
.dropdown-content a {
    color: white;
    padding: .5em;
    text-decoration: none;
    display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: rgb(42, 42, 42)}

/* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
.show {display:block;}

.explanationText {
  text-align: left;
  margin-top: 5%;
  margin-left: 7%;
  width: 45%;
  padding: 0%;
  position: absolute;
  font-size: 1em;
  }

.carousel-control-prev, .carousel-control-next {
        color: snow;
      }
      
      .carousel-item {
        /*width: 100px;*/
        /*position: absolute;*/
        left: 20%;
      }
      
      .carousel-item .carousel-caption {
        left: -50%;
      }
       .carousel-item img {
        /*transform: translateX(10%);*/
        transform: translateY(10%);
        height: 40em;
      }

.pedagogy {
  size: 1.4em;
}
.slide1 {
  margin-top: 20%;
  padding-left: 25%;
  background: rgb(42, 42, 42);
  width: 100%;
}
.slide2 {
  margin-top: 20%;
  padding-left: 25%;
  background: rgb(42, 42, 42);
  width: 100%;
}
.slide3 {
  margin-top: 20%;
  padding-left: 5%;
  background: rgb(42, 42, 42);
  width: 100%;
}


</style>

<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

function on() {
    document.getElementById("overlay").style.display = "block";
}

function off() {
    document.getElementById("overlay").style.display = "none";
}

function clusterShow() {
    document.getElementById("cl5button").style.display = "block";
}

function titleGone() {
    document.getElementById("title").style.opacity = 0;
}

function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown menu if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}


var margin = {top: (screen.height)/16, right: (screen.width)/8, bottom: (screen.height)/8, left: (screen.width)/8},
    width = .7*(screen.width - margin.left - margin.right),
    height = .8*(screen.height - margin.top - margin.bottom);

var xValue = function(d) { return d.xVal;}, // data -> value
    xEnd = function(d) { return d.sunflrx;},
    xCluster = function(d) { return d.equalX0;},
    xScatter = function(d) { return d.xs;},
    xScale = d3.scaleLinear().range([0, width]), // value -> display
    xMap = function(d) { return xScale(xValue(d));},
    xMend = function(d) { return xScale(xEnd(d));},
    xPlot = function(d) { return xScale(xScatter(d));},
    xBig = function(d) { return xScale(xCluster(d));};
   

var yValue = function(d) { return d["yVal"];},
    yEnd = function(d) { return d['sunflry'];},
    yCluster = function(d) { return d['equalY0'];},// data -> value
    yScatter = function(d) { return d.ys;},
    yScale = d3.scaleLinear().range([height, 0]), // value -> display
    yMap = function(d) { return yScale(yValue(d));},
    yMend = function(d) { return yScale(yEnd(d));},
    yPlot = function(d) { return yScale(yScatter(d));},
    yBig = function(d) { return yScale(yCluster(d));};// data -> display

var cValue = function(d) { return d.newClusters;},
     color = d3.scaleOrdinal(["rgb(117, 223, 233)", "rgb(158, 58, 156)","rgb(231, 224, 148)", "rgb(177, 62, 36)", "rgb(31, 92, 232)","rgb(220, 105, 200)", "rgb(210, 110, 50)"]);


    
// load data
d3.csv("visualDBnoWords.csv", function(error, data) {
  // change string (from CSV) into number format
  data.forEach(function(d) {
    d.xVal = +d.xVal;
    d["yVal"] = +d["yVal"];
    d.sunflrx = +d.sunflrx;
    d['sunflry'] = +d['sunflry'];
    d.equalX0 = +d.equalX0;
    d['equalY0'] = +d['equalY0'];
  });

            
BoxSpiral();

function BoxSpiral() {

d3.selectAll("input")
    .on("click", changed);
    
function changed() {
    if (this.value === "Box Plot") newBoxSpiral();
    else if (this.value === "About") infoBox();
    else if (this.value === "Spiral Plot") NewDots();
    else if (this.value === "Scatter Plot") scatterPlot();
    else if (this.value === "Cluster 5") Cluster5();
            }

  xScale.domain([d3.min(data, xValue)-1.2, d3.max(data, xValue)+1.2]);
  yScale.domain([d3.min(data, yValue), d3.max(data, yValue)]);

var svg = d3.select("div.dvCluster").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var div = d3.select("#plot").append("div")
            .attr("class", ".textHere")
            .style("opacity", 0);  
            
var dots = svg.selectAll()
      .data(data)
      .enter().append("rect")
      .attr("rx", 6)
      .attr("ry", 6)
      .attr("x", xMap)
      .attr("y", yMap)
      .attr("width", 22)
      .attr("height", 22)
      .attr("class", "dot")
      .attr("id", function(d) { return "ClusterClass"+d.newClusters;})
      .style("fill", function(d) { return color(cValue(d));})
      .on("mouseover", function(d) {
            div.transition()		
                .duration(100)	
                .style("opacity", 1);
             div.html("In Cluster" + d.newClusters + ", this cluster is awesome. Math & Science Teaching and Learning")	
                .attr("class", "boxDescription");	
            })
      .on("mouseout", function(d) {		
            div.transition()		
                .duration(500)		
                .style("opacity", 0);	
        });
      


function infoBox() {
  on();
}

function scatterPlot() {
  
svg.selectAll('text')
                .transition()
                .duration(200)
                .style('opacity', 0);
  
  xScale.domain([d3.min(data, xScatter)-.9, d3.max(data, xScatter)+1]);
  yScale.domain([d3.min(data, yScatter)-.7, d3.max(data, yScatter)]);
  

  
  var scatterDot = d3.selectAll('.dot')
      .transition()
      .duration(2000)
      .attr("rx", 3)
      .attr("ry", 3)
      .attr("x", xPlot)
      .attr("y", yPlot)
      .attr("width", 15)
      .attr("height", 15)
      .attr("id", function(d) { return "ClusterClass"+d.newClusters;})
      .style("opacity", 1)
      .style("fill", function(d) { return color(cValue(d));});


svg.selectAll('text')
                .transition()
                .duration(200)
                .style('opacity', 0);

    
    
  d3.selectAll("input")
    .on("mouseover", scatterPlot)
    .on("mouseout", scatterPlot);
}


function newBoxSpiral() {
  svg.selectAll('text')
                .transition()
                .duration(200)
                .style('opacity', 0);

  
  
  xScale.domain([d3.min(data, xValue)-1.2, d3.max(data, xValue)+1.2]);
  yScale.domain([d3.min(data, yValue)+.13, d3.max(data, yValue)]);
  

      dots.transition()
      .duration(2000)
      .attr("rx", 6)
      .attr("ry", 6)
      .attr("x", xMap)
      .attr("y", yMap)
      .attr("width", 25)
      .attr("height", 25)
      .attr('class', 'dot')
      .style("opacity", 1)
      .style("fill", function(d) { return color(cValue(d));});
      
      
    
  d3.selectAll("input")
    .on("mouseover", newBoxSpiral)
    .on("mouseout", newBoxSpiral);
    
   
}
   
  
 function NewDots() {
   
titleGone()
      
xScale.domain([d3.min(data, xEnd), d3.max(data, xEnd)]);
yScale.domain([d3.min(data, yEnd)+1.25, d3.max(data, yEnd)-1.25]);

 
   
 clusterShow();
svg.selectAll('text')
                .transition()
                .duration(200)
                .style('opacity', 0);

  var smallDot = d3.selectAll('.dot')
      .transition()
      .duration(2000)
      .attr("rx", 3)
      .attr("ry", 3)
      .attr("x", xMend)
      .attr("y", yMend)
      .attr("width", 15)
      .attr("height", 15)
      .attr("id", function(d) { return "ClusterClass"+d.newClusters;})
      .style("opacity", 1)
      .style("fill", function(d) { return color(cValue(d));});
      
 svg.append("text")
        .attr("x", (width*.92))             
        .attr("y", (margin.top / 1.75))
        .attr("text-anchor", "left")  
        .attr('class', "pedagogy")
        .style("font-size", "1.5em") 
        .style('opacity', 1)
        .style('fill', 'rgb(225,225,225)')
        .text("Pedagogy");

svg.append("text")
        .attr("x", (width*.38))             
        .attr("y", (margin.top / 1.55))
        .attr("text-anchor", "left")  
        .attr('class', "Learning")
        .style("font-size", "1.5em") 
        .style('fill', 'rgb(225,225,225)')
        .style('opacity', 1)
        .text("Learning");
  
  d3.selectAll("input")
    .on("mouseover", NewDots)
    .on("mouseout", NewDots);
   

}

function Cluster5() {

 titleGone();
 svg.selectAll('text')
                .transition()
                .duration(200)
                .style('opacity', 0);
 
 xScale.domain([d3.min(data, xCluster)-130, d3.max(data, xCluster)+130]);
  yScale.domain([d3.min(data, yCluster)-100, d3.max(data, yCluster)+100]);

  var bSpiralDot = d3.selectAll('.dot')
      .transition()
      .duration(2000)
      .style('opacity', function(d)  { if (d.newClusters != 5) {return 0}
      ;})
      .attr("rx", 3)
      .attr("ry", 3)
      .attr("x", xBig)
      .attr("y", yBig)
      .attr("width", 15)
      .attr("height", 15)
      .attr("id", function(d) { return "ClusterClass"+d.newClusters;})
      .style("fill", function(d) { return color(cValue(d));});
    
    svg.append("text")
        .attr("x", (width*.14))             
        .attr("y", (margin.top / 1.55))
        .attr("text-anchor", "left")  
        .attr('class', "ClusterName")
        .style("font-size", "3em") 
        .style('fill', 'rgb(225,225,225)')
        .style('opacity', .8)
        .text("Pedagogy");
   
d3.selectAll("input")
    .on("mouseover", comparison)
    .on("mouseout", backtoNormal);

    
function comparison() {
    if (this.value == "Gender") gender();
            }

function backtoNormal() {
    if (this.value == "Gender") Cluster5();
}

function gender() {
  
     var genderDot = d3.selectAll('#ClusterClass5')
      .transition()
      .duration(1000)
      .attr("rx", 2)
      .attr("ry", 2)
    //   .attr('x', xGender)
      .attr("x", function(d) { if (d.testGen == 1) {return xScale(d['equalX0']-125);} 
      else {return xScale(d['equalX0']+125)}
      })
      .attr("y", yBig)
      .attr("width", 15)
      .attr("height", 15)
      .style("fill", function(d) { return color(cValue(d));})
      .style('opacity', function(d)  { if (d.testGen == 1) {return .5 };})
}

}


}


});
</script>
<container id="overlay">
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner" role="listbox">
    <div class="carousel-item active">
      <!--<div class='slide1'><h3>Patterns of Professional Identity in STEM Education</h3>-->
      <!--<p>How can we better retain math & science teachers?</p>-->
      <!--<p>What motivates STEM educators?</p>-->
      <!--<p>The purpose of this study is to explore professional identity of STEM teachers <br>to better understand their professional identity and career motivations.</p>-->
      <!--</div>-->
      <img class="d-block img-fluid" src="slide1PPISE.png" alt="First slide">
    </div>
    <div class="carousel-item">
      <!--<div class='slide2'><h3>Machine Learning</h3>-->
      <!--<p>What is K-means clustering?</p>-->
      <!--<p>What motivates STEM educators?</p>-->
      <!--<p>The purpose of this study is to explore professional identity of STEM teachers <br>to better understand their professional identity and career motivations.</p>-->
      <!--</div>-->
      <img class="d-block img-fluid" src="slide2PPISE.png" alt="Second slide">
    </div>
    <div class="carousel-item">
      <div class='slide3'><h3>Seven Patterns of Professional Identity</h3>
      <p>Pedagogy</p>
      <p>Science</p>
      <p>Math</p>
      <p>Quality</p>
      <p>Learning</p>
      <p>Networking</p>
      <p>Leadership</p>
      </div>
      <!--<img class="d-block img-fluid" src="cuban_street.jpeg" alt="Third slide">-->
    </div>
  </div>
  <!--<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">-->
  <!--  <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
  <!--  <span class="sr-only">Previous</span>-->
  <!--</a>-->
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<button class="oButton" onclick="off()">Enter</button></container>
<div class="wrapper">
   <header class="header"><h2 id="title">Patterns of Professional Identity <br> in STEM Education</h2></header>

  <aside class="aside aside-1">
  <div class="w3-sidebar w3-bar-block" style="width:25%"> 
    <div class="w3-bar-item w3-button">
      <label><input type="button" name="mode" value="Box Plot" autofocus class='buttonStyle'></label>
    </div>
    <div class="w3-bar-item w3-button">
      <label><input type="button" name="mode" value="Scatter Plot" autofocus class='buttonStyle'></label>
    </div>
    <div class="w3-bar-item w3-button" class='buttonStyle'>
    <label><input type="button" name="mode" value="Spiral Plot" autofocus class='buttonStyle'></label></a>
    </div>
    <div class="w3-bar-item w3-button" class='buttonStyle' class="dropdown">
      <label id='cl5button'><input type="button" name="mode" value="Cluster 5" autofocus onclick="myFunction()" class="dropbtn" ></label>
      <div id="myDropdown" class="dropdown-content">
      <a><label><input name="gender" value="Gender"></label></a>
      <a href="#">Link 2</a>
      <a href="#">Link 3</a>
  </div>
    </div>
    <div class="w3-bar-item w3-button">
      <label><input type="button" name="mode" value="About" autofocus class='buttonStyle'></label>
    </div>
      </aside>

  
  <article class="main">
    <div id="plot">
    <div class='dvCluster' ></div></div>
  </article>

  
  <!--<aside class="aside aside-2">Aside 2</aside>-->
  
  <footer class="footer">Footer</footer>
  
</div>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
 <script>
    $('#carouselExampleControls').on('slide.bs.carousel', function () {
  console.log(this);
  
  $('container').css('background-color','rgba(42, 42, 42,.95)');
});
  </script>
</body>



</html>
